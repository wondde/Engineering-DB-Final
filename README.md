# 노동시장 데이터 분석 프로젝트 (v3.0)

공공 데이터(KOSIS)를 활용한 **임베디드 SQL 기반** 노동시장 분석 시스템

**주요 특징**:
- 임베디드 SQL 중심 설계
- SQL 쿼리 파일 분리 관리
- 명확한 ETL → DB → 분석 → ML 구조
- 유의미한 인사이트 13개 도출 (기존 5개 + 신규 8개)
- 고용 품질 분석 (고용보험 가입률, 이직률)
- 인구 구조 분석 (청년고용, 고령화, 교육수준)
- ML 모델 강화 (신규 사회/인구학적 피처 추가)

---

## 프로젝트 개요

- **데이터 출처**: KOSIS (통계청), 고용노동부
- **분석 기간**: 2017년 1월 ~ 2025년 9월 (105개월)
- **분석 대상**: 전국 17개 광역시도, 26개 산업, 4개 교육수준, 9개 연령대
- **핵심 기술**: Python, SQLite, 임베디드 SQL, AI/ML (Random Forest, K-Means)
- **데이터 품질**: NULL 0%, 병합 성공률 100%
- **총 데이터**: 74,954행 (10개 테이블)

---

## 주요 파일 구조

```
employment/
├── main.py                    # 실행 파일 ⭐
├── src/                       # Python 모듈
│   ├── etl.py                 # ETL (데이터 정제) - 신규 함수 5개 추가
│   ├── db_loader.py           # DB 적재 - 신규 테이블 5개 지원
│   ├── analyzer.py            # SQL 분석 - 신규 인사이트 8개 추가
│   └── ml_models.py           # AI/ML 분석 - 신규 피처 4개 추가
├── sql/                       # SQL 쿼리
│   ├── create_tables_sqlite.sql   # 테이블 생성 (10개) ⭐
│   ├── insights_sqlite.sql        # 분석 쿼리 ⭐
│   └── create_tables_mysql_erd.sql # ERD용 (MySQL Workbench)
├── data/
│   ├── raw/                   # 원본 CSV (기존)
│   ├── new_data/              # 신규 CSV (고용보험, 교육수준, 연령대)
│   └── employment.db          # SQLite DB (15~25MB) ⭐
└── output/ml_results/         # AI/ML 결과 (PNG)
```

## 사용 방법

### 전체 파이프라인 실행 (권장)

```bash
python main.py --mode all
```

### 단계별 실행

```bash
# ETL만
python main.py --mode etl

# DB 적재만
python main.py --mode load

# 분석만 (DB에 데이터가 있어야 함)
python main.py --mode analyze
```

---

## 분석 결과

### SQL 기반 인사이트 (15가지)

모든 인사이트는 **SQL 쿼리로 구현**되어 `sql/insights_sqlite.sql` 파일에서 관리됩니다.

#### 기존 데이터 기반 인사이트 (1-8번)
1. **산업별 고용 증감 기여도** - 2020년 이후 전년 대비 고용 증가량이 가장 큰 산업 Top 5
2. **지역별 실업률 변동성** - 고용 불안정성 측정 (표준편차 기반)
3. **산업 다각화 지수** - HHI를 이용한 지역별 산업 구조 균형도 분석
4. **코로나19 고용 회복력** - 2019년 대비 2024년 취업자 수 변화율
5. **경제활동참가율 변화** - 2020년 대비 2024년 참가율 증감
6. **산업 성장률 분석** - 최근 3년(2022-2024) 평균 성장률이 높은 산업
7. **지역별 고용 건강도** - 실업률과 취업자 수 통계 분석 (우수/양호/주의)
8. **월별 계절성 분석** - 고용이 가장 활발한 달 식별 (성수기/비수기)

#### 신규 데이터 기반 인사이트 (9-15번)
9. **고용보험 가입률 추이** - 지역별 고용보험 가입자 증가율 (양질의 일자리 지표)
10. **청년 고용률 분석** - 20대 취업자 비중 및 청년 고용 상태
11. **고학력자 취업 현황** - 대졸 이상 취업자 비중 (교육수준별 분석)
12. **연령대별 고용 균형도** - 지역별 연령대 간 고용 분포 균형 측정 (HHI 응용)
13. **교육 수준별 고용 변화** - 초졸/중졸/고졸/대졸 연평균 성장률
14. **고용 시장 활력도** - 신규 고용보험 가입자 비율 (노동시장 유동성)
15. **고령층 고용 비중** - 50대 이상 고령층 취업자 비중 (고령화 대비)

**구현 위치**: `sql/insights_sqlite.sql` (모든 인사이트가 SQL로 구현)
**실행 방식**: `src/analyzer.py`에서 SQL 파일을 읽어 자동 실행

### AI/ML 모델 (3가지) - 신규 피처 강화

1. **실업률 예측** - Random Forest & Gradient Boosting
   - **기존 피처**: 인구, 고용률, 연도, 월, 지역
   - **신규 피처**: 고용보험 가입률, 청년고용 비율, 대졸 비율, 이직률
   - **성능**: Gradient Boosting R²=0.46, RMSE=0.46 / Random Forest R²=0.40, RMSE=0.48
   - **데이터**: 1,575건 (신규 피처 포함, 2017-2025년 전체 기간)

2. **지역 클러스터링** - K-Means
   - **사용 피처**: 실업률, 변동성, 고용률 (기존 피처만 사용)
   - **데이터**: 2017-2025년 전체 기간 (105개월) - 통계적 신뢰도 확보
   - **결과**: 최적 클러스터 자동 선택 (Silhouette Score 기준)
   - **개선 사항**: 신규 피처 제외하여 데이터 손실 방지 및 클러스터링 품질 향상
   - **참고**: 신규 피처(고용보험, 청년고용, 대졸)는 실업률 예측 모델에서만 사용

3. **시계열 트렌드** - COVID-19 전후 비교

**실행**:
```bash
python main.py --mode ml
```

결과는 `output/ml_results/` 폴더에 PNG 파일로 저장됩니다.
